(function(i){i.fn.volley=function(k,m){var b=this,g=b.map(function(c,a){var b=i(a),d=b.offset();d.right=d.left+b.outerWidth();d.bottom=d.top+b.outerHeight();return d}),j=-1!==i.inArray(k,"top,bottom,left,right,left-top,left-bottom,right-top,right-bottom".split(","))?k:!1,f=0;i(j?m:k).eq(0).each(function(c,b){var a=i(b);f=a.is(window)?{left:a.scrollLeft(),top:a.scrollTop()}:a.offset();f.right=f.left+a.innerWidth();f.bottom=f.top+a.innerHeight()});if(f)var l=[],b=b.filter(function(a){return!(g[a].bottom<
f.top||g[a].top>f.bottom||g[a].right<f.left||g[a].left>f.right)&&l.push(g[a])}),g=l;if(!j)return b;for(var c=[],e=-1,a,d=0;d<b.length;d++)g[d].top!==a&&(e++,c[e]=[],a=g[d].top),c[e].push(b[d]);b=[];e=c.length+c[0].length;switch(j){case "bottom":c=c.reverse();break;case "left":case "right":for(e=0;e<c[0].length;e++){b[e]=[];for(a=0;a<c.length;a++)c[a]&&c[a][e]&&b[e].push(c[a][e])}c="right"===j?b.reverse():b;break;case "left-top":case "right-bottom":for(a=0;a<e;a++){b[a]=[];for(d=a;0<=d;d--)c[a-d]&&
c[a-d][d]&&b[a].push(c[a-d][d])}c="right-bottom"===j?b.reverse():b;break;case "right-top":case "left-bottom":for(a=c[0].length-1;a>=c[0].length-e;a--){d=b.length;b[d]=[];for(var h=0;h<c[0].length;h++)c[h]&&c[h][a+h]&&b[d].push(c[h][a+h])}c="left-bottom"===j?b.reverse():b}return i(c)}})(jQuery);
